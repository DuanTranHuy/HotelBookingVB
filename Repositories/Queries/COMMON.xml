<?xml version="1.0" encoding="utf-8" ?>
<table>
  <SQLQuery>
    <SQlQuery_id>CMN_001</SQlQuery_id>
    <SQlQuery_data>
      INSERT INTO SESSION_LOGIN_LOGOUT(
      ACTFLG,
      CTDUSR,
      CTDWKS,
      CTDPGM,
      CTD_DT,
      MDFUSR,
      MDFWKS,
      MDFPGM,
      LSTMDF,
      USER_ID,
      LOGIN_DT,
      LOGOUT_DT,
      IS_ONLINE,
      SESSION_ID,
      PC_NAME,
      PC_IP
      )
      VALUES (
      '1',
      @userId,
      @pcIp,
      'SYS010 - Login',
      GETDATE(),
      0,
      '-',
      '-',
      NULL,
      @userId,
      GETDATE(),
      NULL,
      '1',
      @sessionId,
      @pcName,
      @pcIp
      )
    </SQlQuery_data>
  </SQLQuery>
  <SQLQuery>
    <SQlQuery_id>CMN_002</SQlQuery_id>
    <SQlQuery_data>
      UPDATE SESSION_LOGIN_LOGOUT
      SET
      MDFUSR = @userId,
      MDFWKS = @pcIp,
      MDFPGM = 'SYS013-LOGOUT',
      LSTMDF = GETDATE(),
      LOGOUT_DT = GETDATE(),
      IS_ONLINE = '0'
      WHERE
      USER_ID = @userId AND
      SESSION_ID = @sessionId AND
      IS_ONLINE = '1'
    </SQlQuery_data>
  </SQLQuery>
</table>